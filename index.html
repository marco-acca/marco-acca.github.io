<!doctype html>
<html lang="it" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Marco Acca — Digital Card</title>
  <meta name="description" content="Executive digital business card — IT / EN / AR">
  <meta name="theme-color" content="#0a4dad">
  <style>
    /* stesso CSS di prima, invariato */
  </style>
</head>
<body>
  <div class="container">

    <div class="header">
      <div class="brand">
        <img class="logo" src="logo.png" alt="Logo" onerror="this.style.display='none'">
      </div>
      <div class="lang">
        <button id="btn-it" class="active">IT</button>
        <button id="btn-en">EN</button>
        <button id="btn-ar">AR</button>
      </div>
    </div>

    <div class="hero">
      <div class="hero-grid">
        <img class="avatar" src="foto.jpg" alt="Foto profilo / Profile photo / الصورة الشخصية" onerror="this.style.opacity=.2">
        <div>
          <h1>Marco Acca</h1>
          <p class="role" data-lang="it">Amministratore Delegato</p>
          <p class="role" data-lang="en">CEO</p>
          <p class="role rtl" data-lang="ar">الرئيس التنفيذي</p>

          <div class="actions">
            <a class="btn" href="tel:+393421213619"><strong>📞</strong><span data-lang="it">Chiama</span><span data-lang="en">Call</span><span class="rtl" data-lang="ar">اتصال</span></a>
            <a class="btn gray" href="mailto:business@example.com"><strong>✉️</strong><span data-lang="it">Email Aziendale</span><span data-lang="en">Business Email</span><span class="rtl" data-lang="ar">البريد (عمل)</span></a>
            <a class="btn green" target="_blank" href="https://wa.me/393421213619"><strong>💬</strong><span>WhatsApp</span></a>
            <a class="btn red" href="Marco.vcf" download><strong>📇</strong><span data-lang="it">Aggiungi ai Contatti</span><span data-lang="en">Add to Contacts</span><span class="rtl" data-lang="ar">أضف إلى جهات الاتصال</span></a>
            <button class="btn gray" type="button" id="btn-share"><strong>🔗</strong><span data-lang="it">Condividi</span><span data-lang="en">Share</span><span class="rtl" data-lang="ar">مشاركة</span></button>
            <a class="btn gray" target="_blank" href="https://www.linkedin.com/"><strong>in</strong><span>LinkedIn</span></a>
          </div>

          <div class="contacts-inline">
            <div data-lang="it">📞 <a href="tel:+393421213619">+39 342 1213619</a></div>
            <div data-lang="en">📞 <a href="tel:+393421213619">+39 342 1213619</a></div>
            <div class="rtl" data-lang="ar">📞 <a href="tel:+393421213619">+39 342 1213619</a></div>
            <div data-lang="it">📧 <a href="mailto:business@example.com">business@example.com</a></div>
            <div data-lang="en">📧 <a href="mailto:business@example.com">business@example.com</a></div>
            <div class="rtl" data-lang="ar">📧 <a href="mailto:business@example.com">business@example.com</a></div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 data-lang="it">Social & Link</h2>
      <h2 data-lang="en">Social & Links</h2>
      <h2 class="rtl" data-lang="ar">روابط اجتماعية</h2>
      <ul class="list">
        <li>🔗 <a target="_blank" href="https://www.linkedin.com/">LinkedIn</a></li>
        <li>🌐 <a target="_blank" href="https://marco-acca.github.io">Website</a></li>
      </ul>
    </div>

    <div class="section qr-box">
      <img class="qr" src="https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=https://marco-acca.github.io" alt="QR code">
      <div data-lang="it">Scansiona per aprire questa card</div>
      <div data-lang="en">Scan to open this card</div>
      <div class="rtl" data-lang="ar">امسح الرمز لفتح هذه البطاقة</div>
      <p><a href="https://api.qrserver.com/v1/create-qr-code/?size=1024x1024&data=https://marco-acca.github.io" download>⬇️ Download high-res QR</a></p>
    </div>

    <footer>© Marco Acca</footer>
  </div>

<script>
  const SITE_URL = "https://marco-acca.github.io";
  const itBtn = document.getElementById('btn-it');
  const enBtn = document.getElementById('btn-en');
  const arBtn = document.getElementById('btn-ar');

  function setLang(lang){
    document.querySelectorAll('[data-lang]').forEach(el=>{
      el.classList.remove('show');
      if(el.getAttribute('data-lang')===lang){ el.classList.add('show'); }
    });
    document.documentElement.lang = lang;
    document.documentElement.dir = (lang==='ar') ? 'rtl' : 'ltr';
    itBtn.classList.toggle('active', lang==='it');
    enBtn.classList.toggle('active', lang==='en');
    arBtn.classList.toggle('active', lang==='ar');
    try{ localStorage.setItem('lang', lang); }catch(e){}
  }

  itBtn.addEventListener('click', ()=>setLang('it'));
  enBtn.addEventListener('click', ()=>setLang('en'));
  arBtn.addEventListener('click', ()=>setLang('ar'));

  const saved = (typeof localStorage!=='undefined' && localStorage.getItem('lang')) || '';
  const preferred = saved || ((navigator.language||'it').toLowerCase().startsWith('en') ? 'en' : 'it');
  setLang(preferred);

  async function share(){
    const map = { it: 'I miei contatti', en: 'My contacts', ar: 'جهات الاتصال الخاصة بي' };
    const lang = document.documentElement.lang || 'it';
    const shareData = { title:'Marco Acca — Digital Card', text: map[lang]||map.it, url:SITE_URL };
    if (navigator.share){
      try { await navigator.share(shareData); } catch(e){}
    } else {
      try { await navigator.clipboard.writeText(shareData.url); alert(lang==='ar' ? 'تم نسخ الرابط' : (lang==='it' ? 'Link copiato' : 'Link copied')); }
      catch(e){ prompt(lang==='ar' ? 'انسخ هذا الرابط:' : (lang==='it' ? 'Copia questo link:' : 'Copy this link:'), shareData.url); }
    }
  }
  document.getElementById('btn-share')?.addEventListener('click', share);
</script>
</body>
</html>
